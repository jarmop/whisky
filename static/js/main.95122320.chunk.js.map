{"version":3,"sources":["Catalog/library.ts","types.ts","Catalog/List.tsx","Catalog/Catalog.tsx","data/distilleries.ts","DistilleryMap/mapboxMap.ts","DistilleryMap/mapboxComplexPopupExample.ts","DistilleryMap/DistilleryMap.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["formatPrice","price","toFixed","date","Date","setUTCHours","Regions","TODAY","JSON","parse","stringify","List","products","className","icon","faAngleUp","map","product","key","id","timeAdded","name","relativePrice","abv","size","toLocaleDateString","country","notes","allProducts","allProductsJSON","highestRelativePrice","countryOptions","reduce","accumulator","includes","push","Catalog","props","state","selectedCountry","minRelativePrice","maxRelativePrice","this","setState","min","max","filter","sort","a","b","sortOrder","value","getTime","Object","keys","orderKey","valA","valB","onChange","event","setSelectedCountry","target","type","defaultValue","setPriceRange","parseFloat","length","React","Component","distilleries","coordinates","lon","lat","region","CampbelTown","Highlands","Islands","Islay","Lowlands","Speyside","scotlandCenter","addDistilleryToMap","distillery","mapboxgl","Marker","element","document","createElement","createMarkerElement","setLngLat","setPopup","Popup","closeButton","setHTML","addTo","drawMap","containerId","accessToken","Map","container","style","center","zoom","forEach","popupCoordinates","on","addSource","data","features","properties","description","geometry","addLayer","source","layout","popup","closeOnClick","e","undefined","hasOwnProperty","slice","Math","abs","lngLat","lng","remove","addComplexPopup","DistilleryMap","useEffect","App","homeUrl","process","catalogUrl","to","path","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.95122320.chunk.js","sourcesContent":["export function formatPrice(price: number) {\n  return price.toFixed(2);\n}\n\nconst date = new Date();\ndate.setUTCHours(0, 0, 0, 0);\nexport const TODAY = JSON.parse(JSON.stringify(date));\n","export type Coordinates = {\n    lon: number,\n    lat: number,\n}\n\nexport type Distillery = {\n    name: string,\n    coordinates: Coordinates,\n    region: Regions,\n}\n\nexport enum Regions {\n    Speyside,\n    Highlands,\n    Lowlands,\n    Islay,\n    Islands,\n    CampbelTown,\n}\n","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faAngleUp } from '@fortawesome/free-solid-svg-icons';\nimport { formatPrice, TODAY } from './library';\nimport { Product } from './types';\n\ninterface ListParams {\n  products: Product[],\n}\n\nconst List = ({ products }: ListParams) => (\n  <table className=\"table\">\n    <thead>\n      <tr>\n        <th>\n          Name\n        </th>\n        <th className=\"sorting\">\n          Price per 0.7 l of 40 %\n          <FontAwesomeIcon icon={faAngleUp} />\n        </th>\n        <th>\n          Abv\n        </th>\n        <th>\n          Price\n        </th>\n        <th>\n          Size\n        </th>\n        <th>\n          Added\n        </th>\n        <th>\n          Country\n        </th>\n        <th>\n          Notes\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      {products.map((product) => (\n        <tr key={product.id} className={product.timeAdded === TODAY ? 'added-today' : ''}>\n          <td>\n            {product.name}\n          </td>\n          <td>\n            {formatPrice(product.relativePrice)}\n            {' '}\n            €\n          </td>\n          <td>\n            {product.abv}\n            {' '}\n            %\n          </td>\n          <td>\n            {formatPrice(product.price)}\n            {' '}\n            €\n          </td>\n          <td>\n            {product.size}\n            {' '}\n            l\n          </td>\n          <td>\n            {(new Date(product.timeAdded)).toLocaleDateString()}\n          </td>\n          <td>\n            {product.country}\n          </td>\n          <td>\n            {product.notes}\n          </td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nexport default List;\n","import React from 'react';\nimport './Catalog.css';\nimport allProductsJSON from 'data/alko.json';\nimport List from './List';\nimport { formatPrice, TODAY } from './library';\nimport { Product } from './types';\n\nconst allProducts: Product[] = allProductsJSON;\n\nconst defaultMinRelativePrice = 40;\nlet highestRelativePrice = 0;\nconst countryOptions = allProducts.reduce(\n  (accumulator: string[], product) => {\n    if (product.relativePrice > highestRelativePrice) {\n      highestRelativePrice = product.relativePrice;\n    }\n    if (!accumulator.includes(product.country)) {\n      accumulator.push(product.country);\n    }\n    return accumulator;\n  },\n  [],\n);\n\ntype State = {\n  selectedCountry: string,\n  minRelativePrice: number,\n  maxRelativePrice: number,\n}\n\nclass Catalog extends React.Component {\n  readonly state: State;\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = {\n      selectedCountry: 'Skotlanti',\n      minRelativePrice: defaultMinRelativePrice,\n      maxRelativePrice: highestRelativePrice,\n    };\n  }\n\n  setSelectedCountry(country: string) {\n    this.setState({\n      selectedCountry: country,\n    });\n  }\n\n  setPriceRange(min: number, max: number) {\n    this.setState({\n      minRelativePrice: min,\n      maxRelativePrice: max,\n    });\n  }\n\n  render() {\n    const { selectedCountry, minRelativePrice, maxRelativePrice } = this.state;\n    const products = allProducts.filter((product) => product.country === selectedCountry\n      && product.relativePrice > minRelativePrice\n      && product.relativePrice < maxRelativePrice);\n\n    products.sort((a: Product, b: Product) => {\n      const sortOrder: { [key: string]: string } = {\n        country: 'asc',\n        relativePrice: 'asc',\n      };\n\n      // Sort new whiskies first\n      if (a.timeAdded === TODAY || b.timeAdded === TODAY) {\n        const value = (new Date(b.timeAdded)).getTime() - (new Date(a.timeAdded)).getTime();\n        if (value !== 0) {\n          return value;\n        }\n      }\n\n      for (const orderKey of Object.keys(sortOrder)) {\n        const valA = a[orderKey];\n        const valB = b[orderKey];\n        if (valA < valB) {\n          return sortOrder[orderKey] === 'asc' ? -1 : 1;\n        } if (valA > valB) {\n          return sortOrder[orderKey] === 'asc' ? 1 : -1;\n        }\n      }\n      return 0;\n    });\n\n    return (\n      <div>\n        <div className=\"filter-container\">\n          <select\n            onChange={(event) => this.setSelectedCountry(\n              event.target.value,\n            )}\n            value={selectedCountry}\n          >\n            {countryOptions.map(\n              (country) => <option key={country} value={country}>{country}</option>,\n            )}\n          </select>\n          <div className=\"filter\">\n            <label>Price range: </label>\n            <input\n              className=\"priceRangeInput\"\n              name=\"minprice\"\n              type=\"number\"\n              defaultValue={formatPrice(minRelativePrice)}\n              onChange={\n                (event) => this.setPriceRange(parseFloat(event.target.value), maxRelativePrice)\n              }\n            />\n            {' - '}\n            <input\n              className=\"priceRangeInput\"\n              name=\"maxprice\"\n              type=\"number\"\n              defaultValue={formatPrice(maxRelativePrice)}\n              onChange={\n                (event) => this.setPriceRange(minRelativePrice, parseFloat(event.target.value))\n              }\n            />\n          </div>\n        </div>\n\n        {` Products: ${products.length}`}\n\n        <List products={products} />\n      </div>\n    );\n  }\n}\n\nexport default Catalog;\n","import { Distillery, Regions } from 'types';\n\nconst distilleries: Distillery[] = [\n  {\n    name: 'Springbank',\n    coordinates: {\n      lon: -5.6085,\n      lat: 55.4265,\n    },\n    region: Regions.CampbelTown,\n  },\n  // {\n  //   name: 'Edradour',\n  //   coordinates: {\n  //     lon: -3.7010,\n  //     lat: 56.7020,\n  //   },\n  //   region: Regions.Highlands,\n  // },\n  {\n    name: 'Dalwhinnie',\n    coordinates: {\n      lon: -4.2391,\n      lat: 56.9400,\n    },\n    region: Regions.Highlands,\n  },\n  {\n    name: 'Old pulteney',\n    coordinates: {\n      lon: -3.0847,\n      lat: 58.4344,\n    },\n    region: Regions.Highlands,\n  },\n  {\n    name: 'Highland Park',\n    coordinates: {\n      lon: -2.9554,\n      lat: 58.9687,\n    },\n    region: Regions.Islands,\n  },\n  {\n    name: 'Talisker',\n    coordinates: {\n      lon: -6.3567,\n      lat: 57.3023,\n    },\n    region: Regions.Islands,\n  },\n  {\n    name: 'Tobermory',\n    coordinates: {\n      lon: -6.0698,\n      lat: 56.6207,\n    },\n    region: Regions.Islands,\n  },\n  {\n    name: 'Ardbeg',\n    coordinates: {\n      lon: -6.1083,\n      lat: 55.6404,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Bowmore',\n    coordinates: {\n      lon: -6.2900,\n      lat: 55.7569,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Bruichladdich',\n    coordinates: {\n      lon: -6.3625,\n      lat: 55.7663,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Bunnahabhain',\n    coordinates: {\n      lon: -6.1257,\n      lat: 55.8830,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Caol Ila',\n    coordinates: {\n      lon: -6.1093,\n      lat: 55.8545,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Kilchoman',\n    coordinates: {\n      lon: -6.4305,\n      lat: 55.7869,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Laphroaig',\n    coordinates: {\n      lon: -6.1430,\n      lat: 55.6258,\n    },\n    region: Regions.Islay,\n  },\n  {\n    name: 'Auchentoshan',\n    coordinates: {\n      lon: -4.4381,\n      lat: 55.9229,\n    },\n    region: Regions.Lowlands,\n  },\n  {\n    name: 'Aberlour',\n    coordinates: {\n      lon: -3.2282,\n      lat: 57.4670,\n    },\n    region: Regions.Speyside,\n  },\n  {\n    name: 'Cragganmore',\n    coordinates: {\n      lon: -3.3953,\n      lat: 57.4099,\n    },\n    region: Regions.Speyside,\n  },\n  {\n    name: 'GlenDronach',\n    coordinates: {\n      lon: -2.6259,\n      lat: 57.4844,\n    },\n    region: Regions.Speyside,\n  },\n  {\n    name: 'Glenfiddich',\n    coordinates: {\n      lon: -3.1287,\n      lat: 57.4548,\n    },\n    region: Regions.Speyside,\n  },\n  {\n    name: 'Macallan',\n    coordinates: {\n      lon: -3.2068,\n      lat: 57.4848,\n    },\n    region: Regions.Speyside,\n  },\n];\n\nexport default distilleries;\n","import mapboxgl from 'mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nimport { Coordinates, Distillery } from 'types';\nimport distilleries from 'data/distilleries';\nimport addComplexPopup from './mapboxComplexPopupExample';\n\nconst scotlandCenter: Coordinates = {\n  lon: -4.5518,\n  lat: 57.0042,\n};\n\nfunction createMarkerElement(): HTMLDivElement {\n  const element = document.createElement('div');\n  element.className = 'marker';\n\n  return element;\n}\n\nfunction addDistilleryToMap(map: mapboxgl.Map, distillery: Distillery) {\n  const marker = new mapboxgl.Marker(createMarkerElement())\n    .setLngLat([distillery.coordinates.lon, distillery.coordinates.lat])\n    .setPopup(\n      new mapboxgl.Popup({\n        closeButton: false,\n        className: 'popup',\n      }).setHTML(`<div class=\"popup-title\">${distillery.name}</div>`),\n    )\n    .addTo(map);\n\n  // The popup opens on click by default, but other events can be used like this\n  // const markerElement = marker.getElement();\n  // markerElement.addEventListener('mouseenter', () => marker.togglePopup());\n  // markerElement.addEventListener('mouseleave', () => marker.togglePopup());\n}\n\nexport default function drawMap(containerId: string) {\n  mapboxgl.accessToken = 'pk.eyJ1IjoiamFybW9wIiwiYSI6ImNrOW8xM2lxNzAxbmYzbHJ5a200aXNjeGYifQ.HcClAUYB_z8izQnQS3TQ5A';\n  const map = new mapboxgl.Map({\n    container: containerId,\n    style: 'mapbox://styles/mapbox/streets-v9',\n    center: [scotlandCenter.lon, scotlandCenter.lat],\n    zoom: 6.5,\n  });\n\n  distilleries.forEach((distillery) => addDistilleryToMap(map, distillery));\n\n  addComplexPopup(map, [scotlandCenter.lon, scotlandCenter.lat]);\n}\n","import mapboxgl, { LngLatLike } from 'mapbox-gl';\n\nexport default function addComplexPopup(map: mapboxgl.Map, popupCoordinates: number[]) {\n  map.on('load', () => {\n    map.addSource('places', {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [\n          {\n            type: 'Feature',\n            properties: {\n              description:\n                '<strong>Make it Mount Pleasant</strong><p>Make it Mount Pleasant is a handmade and vintage market and afternoon of live entertainment and kids activities. 12:00-6:00 p.m.</p>',\n              icon: 'theatre',\n            },\n            geometry: {\n              type: 'Point',\n              coordinates: popupCoordinates,\n            },\n          },\n        ],\n      },\n    });\n\n    map.addLayer({\n      id: 'places',\n      type: 'symbol',\n      source: 'places',\n      layout: {\n        'icon-image': '{icon}-15',\n        'icon-allow-overlap': true,\n      },\n    });\n\n    const popup = new mapboxgl.Popup({\n      closeButton: false,\n      closeOnClick: false,\n    });\n\n    map.on('mouseenter', 'places', (e) => {\n      if (\n        e.features === undefined\n        || e.features[0].geometry.type !== 'Point'\n        || !(e.features[0].properties && e.features[0].properties.hasOwnProperty('description'))\n      ) {\n        return;\n      }\n      // Change the cursor style as a UI indicator.\n      //   map.getCanvas().style.cursor = 'pointer';\n\n      const coordinates = e.features[0].geometry.coordinates.slice();\n      // const coordinates = geometry.coordinates.slice();\n      const { description } = e.features[0].properties;\n\n      // Ensure that if the map is zoomed out such that multiple\n      // copies of the feature are visible, the popup appears\n      // over the copy being pointed to.\n      while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n      }\n\n      const lngLat: LngLatLike = [coordinates[0], coordinates[1]];\n\n      // Populate the popup and set its coordinates\n      // based on the feature found.\n      popup\n        .setLngLat(lngLat)\n        .setHTML(description)\n        .addTo(map);\n\n      map.on('mouseleave', 'places', () => {\n        // map.getCanvas().style.cursor = '';\n        popup.remove();\n      });\n    });\n  });\n}\n","import React, { useEffect } from 'react';\n\nimport './DistilleryMap.css';\n// import drawMap from './leafletMap';\nimport drawMap from './mapboxMap';\n\nconst CONTAINER_ID = 'mapid';\n\nexport default function DistilleryMap() {\n  useEffect(() => drawMap(CONTAINER_ID));\n  return (\n    <div>\n      <div id={CONTAINER_ID} />\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n} from 'react-router-dom';\nimport Catalog from 'Catalog/Catalog';\nimport DistilleryMap from 'DistilleryMap/DistilleryMap';\n\nexport default function App() {\n  const homeUrl = `${process.env.PUBLIC_URL}/`;\n  const catalogUrl = `${process.env.PUBLIC_URL}/catalog`;\n  return (\n    <Router>\n      <Link to={homeUrl}>Home</Link>\n      {' | '}\n      <Link to={catalogUrl}>Catalog</Link>\n      <Switch>\n        <Route path={catalogUrl}>\n          <Catalog />\n        </Route>\n        <Route path={homeUrl}>\n          <DistilleryMap />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}